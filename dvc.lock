schema: '2.0'
stages:
  default-train:
    cmd: python -m src.model.train default no-checkpoint
    deps:
    - path: data/oxford-iiit-pet
      hash: md5
      md5: 86e1cf3f5789b67983eadb84914ca5c1.dir
      size: 820825038
      nfiles: 25862
    - path: src/const.py
      hash: md5
      md5: e7e3477edcf943e75f9976187b4d585d
      size: 795
    - path: src/data/oxford_iiit_pet.py
      hash: md5
      md5: 00e2ff83ea5e7711993cb4d471da521a
      size: 1822
    - path: src/model/arch.py
      hash: md5
      md5: b169e5d7fa932d64e1e6904794090bc3
      size: 2593
    - path: src/model/loss.py
      hash: md5
      md5: b597e08e987c4051129bb6aa018396b1
      size: 3575
    - path: src/model/train.py
      hash: md5
      md5: b9e1e1da05a765caae685a271e615f12
      size: 5864
    outs:
    - path: models/default.pt
      hash: md5
      md5: 823ce7bb49f1c2bb04ed1e59185ac823
      size: 85981426
  contrastive-train:
    cmd: python -m src.model.train contrastive no-checkpoint
    deps:
    - path: data/oxford-iiit-pet
      hash: md5
      md5: 86e1cf3f5789b67983eadb84914ca5c1.dir
      size: 820825038
      nfiles: 25862
    - path: src/const.py
      hash: md5
      md5: e7e3477edcf943e75f9976187b4d585d
      size: 795
    - path: src/data/oxford_iiit_pet.py
      hash: md5
      md5: 00e2ff83ea5e7711993cb4d471da521a
      size: 1822
    - path: src/model/arch.py
      hash: md5
      md5: b169e5d7fa932d64e1e6904794090bc3
      size: 2593
    - path: src/model/loss.py
      hash: md5
      md5: b597e08e987c4051129bb6aa018396b1
      size: 3575
    - path: src/model/train.py
      hash: md5
      md5: b9e1e1da05a765caae685a271e615f12
      size: 5864
    outs:
    - path: models/contrastive.pt
      hash: md5
      md5: 59812506e419ee0abb33ac625a6e8aa8
      size: 85948406
  default-evaluate:
    cmd: python -m src.model.evaluate default visualize
    deps:
    - path: data/oxford-iiit-pet
      hash: md5
      md5: 86e1cf3f5789b67983eadb84914ca5c1.dir
      size: 820825038
      nfiles: 25862
    - path: models/default.pt
      hash: md5
      md5: 823ce7bb49f1c2bb04ed1e59185ac823
      size: 85981426
    - path: src/const.py
      hash: md5
      md5: e7e3477edcf943e75f9976187b4d585d
      size: 795
    - path: src/data/oxford_iiit_pet.py
      hash: md5
      md5: 00e2ff83ea5e7711993cb4d471da521a
      size: 1822
    - path: src/model/arch.py
      hash: md5
      md5: b169e5d7fa932d64e1e6904794090bc3
      size: 2593
    - path: src/model/evaluate.py
      hash: md5
      md5: 2e12bc0436fd172a9222cf256d3d6ac4
      size: 2144
    - path: src/model/train.py
      hash: md5
      md5: b9e1e1da05a765caae685a271e615f12
      size: 5864
    outs:
    - path: data/evals/default_cam.png
      hash: md5
      md5: 64ddddcc3ae62599a0d42cc4841886ed
      size: 1904165
  contrastive-evaluate:
    cmd: python -m src.model.evaluate contrastive visualize
    deps:
    - path: data/oxford-iiit-pet
      hash: md5
      md5: 86e1cf3f5789b67983eadb84914ca5c1.dir
      size: 820825038
      nfiles: 25862
    - path: models/contrastive.pt
      hash: md5
      md5: 59812506e419ee0abb33ac625a6e8aa8
      size: 85948406
    - path: src/const.py
      hash: md5
      md5: e7e3477edcf943e75f9976187b4d585d
      size: 795
    - path: src/data/oxford_iiit_pet.py
      hash: md5
      md5: 00e2ff83ea5e7711993cb4d471da521a
      size: 1822
    - path: src/model/arch.py
      hash: md5
      md5: b169e5d7fa932d64e1e6904794090bc3
      size: 2593
    - path: src/model/evaluate.py
      hash: md5
      md5: 2e12bc0436fd172a9222cf256d3d6ac4
      size: 2144
    - path: src/model/train.py
      hash: md5
      md5: b9e1e1da05a765caae685a271e615f12
      size: 5864
    outs:
    - path: data/evals/contrastive_cam.png
      hash: md5
      md5: 7e31b5acc91c80efcbcb04b0d8bd5a96
      size: 1738186
