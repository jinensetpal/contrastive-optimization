schema: '2.0'
stages:
  default-train:
    cmd: python -m src.model.train default no-checkpoint
    deps:
    - path: data/oxford-iiit-pet
      hash: md5
      md5: 86e1cf3f5789b67983eadb84914ca5c1.dir
      size: 820825038
      nfiles: 25862
    - path: src/const.py
      hash: md5
      md5: 2a236f8893fed256d5489ab8ba4e54d2
      size: 815
    - path: src/data/oxford_iiit_pet.py
      hash: md5
      md5: 24eabf0957509794f13107329fc258cf
      size: 1869
    - path: src/model/arch.py
      hash: md5
      md5: b169e5d7fa932d64e1e6904794090bc3
      size: 2593
    - path: src/model/loss.py
      hash: md5
      md5: 104b14e5b92db523195d246f06fbc1ec
      size: 3589
    - path: src/model/train.py
      hash: md5
      md5: dfb85bf37120900bc985a9232d8c2ac6
      size: 5309
    outs:
    - path: models/default.pt
      hash: md5
      md5: 7c40912988ec5468b41e56e789261338
      size: 85981426
  contrastive-train:
    cmd: python -m src.model.train contrastive no-checkpoint
    deps:
    - path: data/oxford-iiit-pet
      hash: md5
      md5: 86e1cf3f5789b67983eadb84914ca5c1.dir
      size: 820825038
      nfiles: 25862
    - path: src/const.py
      hash: md5
      md5: 2a236f8893fed256d5489ab8ba4e54d2
      size: 815
    - path: src/data/oxford_iiit_pet.py
      hash: md5
      md5: 24eabf0957509794f13107329fc258cf
      size: 1869
    - path: src/model/arch.py
      hash: md5
      md5: b169e5d7fa932d64e1e6904794090bc3
      size: 2593
    - path: src/model/loss.py
      hash: md5
      md5: 104b14e5b92db523195d246f06fbc1ec
      size: 3589
    - path: src/model/train.py
      hash: md5
      md5: dfb85bf37120900bc985a9232d8c2ac6
      size: 5309
    outs:
    - path: models/contrastive.pt
      hash: md5
      md5: c102ae5168397d714ca72aa4bc8522e9
      size: 85948406
  default-evaluate:
    cmd: python -m src.model.evaluate default visualize
    deps:
    - path: data/oxford-iiit-pet
      hash: md5
      md5: 86e1cf3f5789b67983eadb84914ca5c1.dir
      size: 820825038
      nfiles: 25862
    - path: models/default.pt
      hash: md5
      md5: 7c40912988ec5468b41e56e789261338
      size: 85981426
    - path: src/const.py
      hash: md5
      md5: 2a236f8893fed256d5489ab8ba4e54d2
      size: 815
    - path: src/data/oxford_iiit_pet.py
      hash: md5
      md5: 24eabf0957509794f13107329fc258cf
      size: 1869
    - path: src/model/arch.py
      hash: md5
      md5: b169e5d7fa932d64e1e6904794090bc3
      size: 2593
    - path: src/model/evaluate.py
      hash: md5
      md5: 239fcc23ba94d8972f164e5b081a2be4
      size: 2143
    - path: src/model/train.py
      hash: md5
      md5: dfb85bf37120900bc985a9232d8c2ac6
      size: 5309
    outs:
    - path: data/evals/default_cam.png
      hash: md5
      md5: e3ef7024d3b18d4ec3f50e9fd2abf2b6
      size: 1795252
  contrastive-evaluate:
    cmd: python -m src.model.evaluate contrastive visualize
    deps:
    - path: data/oxford-iiit-pet
      hash: md5
      md5: 86e1cf3f5789b67983eadb84914ca5c1.dir
      size: 820825038
      nfiles: 25862
    - path: models/contrastive.pt
      hash: md5
      md5: c102ae5168397d714ca72aa4bc8522e9
      size: 85948406
    - path: src/const.py
      hash: md5
      md5: 2a236f8893fed256d5489ab8ba4e54d2
      size: 815
    - path: src/data/oxford_iiit_pet.py
      hash: md5
      md5: 24eabf0957509794f13107329fc258cf
      size: 1869
    - path: src/model/arch.py
      hash: md5
      md5: b169e5d7fa932d64e1e6904794090bc3
      size: 2593
    - path: src/model/evaluate.py
      hash: md5
      md5: 239fcc23ba94d8972f164e5b081a2be4
      size: 2143
    - path: src/model/train.py
      hash: md5
      md5: dfb85bf37120900bc985a9232d8c2ac6
      size: 5309
    outs:
    - path: data/evals/contrastive_cam.png
      hash: md5
      md5: 49b7574f277650dc249ecec1ab700d79
      size: 1740189
