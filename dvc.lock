schema: '2.0'
stages:
  default-train:
    cmd: python -m src.model.train default no-checkpoint
    deps:
    - path: data/oxford-iiit-pet
      hash: md5
      md5: 86e1cf3f5789b67983eadb84914ca5c1.dir
      size: 820825038
      nfiles: 25862
    - path: src/const.py
      hash: md5
      md5: 56a79742270af824930465da6eedc4dc
      size: 835
    - path: src/data/oxford_iiit_pet.py
      hash: md5
      md5: 24eabf0957509794f13107329fc258cf
      size: 1869
    - path: src/model/arch.py
      hash: md5
      md5: b169e5d7fa932d64e1e6904794090bc3
      size: 2593
    - path: src/model/loss.py
      hash: md5
      md5: c98d5fb7df2aaac837739e543c2ba3a0
      size: 3589
    - path: src/model/train.py
      hash: md5
      md5: 0720bfbd3e4009884b90b8a25450175e
      size: 5989
    outs:
    - path: models/default_best.pt
      hash: md5
      md5: dc4dcb7a30f2969a34353dcccd0af7f8
      size: 85978950
    - path: models/default_last.pt
      hash: md5
      md5: ace278979f9e3f041c50ad5aca302398
      size: 85983430
  contrastive-train:
    cmd: python -m src.model.train contrastive no-checkpoint
    deps:
    - path: data/oxford-iiit-pet
      hash: md5
      md5: 86e1cf3f5789b67983eadb84914ca5c1.dir
      size: 820825038
      nfiles: 25862
    - path: src/const.py
      hash: md5
      md5: 56a79742270af824930465da6eedc4dc
      size: 835
    - path: src/data/oxford_iiit_pet.py
      hash: md5
      md5: 24eabf0957509794f13107329fc258cf
      size: 1869
    - path: src/model/arch.py
      hash: md5
      md5: b169e5d7fa932d64e1e6904794090bc3
      size: 2593
    - path: src/model/loss.py
      hash: md5
      md5: c98d5fb7df2aaac837739e543c2ba3a0
      size: 3589
    - path: src/model/train.py
      hash: md5
      md5: 0720bfbd3e4009884b90b8a25450175e
      size: 5989
    outs:
    - path: models/contrastive_best.pt
      hash: md5
      md5: fe7b10dd495cf4b7d5daf5572434ea19
      size: 85949996
    - path: models/contrastive_last.pt
      hash: md5
      md5: 85d2d2c019d9faef79b2499d35b7d651
      size: 85949996
  default-evaluate:
    cmd: python -m src.model.evaluate default_best visualize
    deps:
    - path: data/oxford-iiit-pet
      hash: md5
      md5: 86e1cf3f5789b67983eadb84914ca5c1.dir
      size: 820825038
      nfiles: 25862
    - path: models/default_best.pt
      hash: md5
      md5: dc4dcb7a30f2969a34353dcccd0af7f8
      size: 85978950
    - path: src/const.py
      hash: md5
      md5: 56a79742270af824930465da6eedc4dc
      size: 835
    - path: src/data/oxford_iiit_pet.py
      hash: md5
      md5: 24eabf0957509794f13107329fc258cf
      size: 1869
    - path: src/model/arch.py
      hash: md5
      md5: b169e5d7fa932d64e1e6904794090bc3
      size: 2593
    - path: src/model/evaluate.py
      hash: md5
      md5: e5565f65dfc18e6be18a60aa4289df96
      size: 2147
    - path: src/model/train.py
      hash: md5
      md5: 0720bfbd3e4009884b90b8a25450175e
      size: 5989
    outs:
    - path: data/evals/default_cam.png
      hash: md5
      md5: da6229c46bc771b0a11809640343a449
      size: 1881445
  contrastive-evaluate:
    cmd: python -m src.model.evaluate contrastive_best visualize
    deps:
    - path: data/oxford-iiit-pet
      hash: md5
      md5: 86e1cf3f5789b67983eadb84914ca5c1.dir
      size: 820825038
      nfiles: 25862
    - path: models/contrastive_best.pt
      hash: md5
      md5: fe7b10dd495cf4b7d5daf5572434ea19
      size: 85949996
    - path: src/const.py
      hash: md5
      md5: 56a79742270af824930465da6eedc4dc
      size: 835
    - path: src/data/oxford_iiit_pet.py
      hash: md5
      md5: 24eabf0957509794f13107329fc258cf
      size: 1869
    - path: src/model/arch.py
      hash: md5
      md5: b169e5d7fa932d64e1e6904794090bc3
      size: 2593
    - path: src/model/evaluate.py
      hash: md5
      md5: e5565f65dfc18e6be18a60aa4289df96
      size: 2147
    - path: src/model/train.py
      hash: md5
      md5: 0720bfbd3e4009884b90b8a25450175e
      size: 5989
    outs:
    - path: data/evals/contrastive_cam.png
      hash: md5
      md5: d4d8dee4cc8436c4327d9277a315c47d
      size: 1741270
